---
layout: post
exclude: true
title: 'Groovy : What is Groovy Truth and define Custom Groovy Truth'
date: '2017-02-23T11:59:00.000+05:30'
author: Ekansh Rastogi
tags:
- Groovy
modified_time: '2017-03-03T14:58:38.716+05:30'
blogger_id: tag:blogger.com,1999:blog-5485242750509374114.post-8501956646615201783
blogger_orig_url: http://ekiras.blogspot.com/2017/02/what-is-groovy-truth-and-define-custom-groovy-truth.html
redirect_from: "/2017/02/what-is-groovy-truth-and-define-custom-groovy-truth.html"
---

<div dir="ltr" style="text-align: left;" trbidi="on">
    <div class="markdown"><h2>What is Groovy Truth</h2>Groovy has its own way of defining what is true and what is
        false, this is called the <code>Groovy Truth</code>. In Java, we have to write statements like <code>if(obj
            ==null)</code>, in groovy you can simply write <code>if(obj)</code> and you can define in what conditions
        this object will evaluate to true and when it will evaluate to false.<br/>
        <pre class="info"> <b>Info</b><br/>To define your custom logic for groovy Truth you need to define method<br/><br/><br/><pre
                class="hljs"><code><span class="hljs-keyword">boolean</span> asBoolean(){<br/> <span
                class="hljs-comment">// your logic here</span><br/>}<br/></code></pre></pre>
        <br/>
        <h2>What is True in Groovy</h2>Following evaluated to true in groovy<br/>
        <ol>
            <li>boolean true</li>
            <li>Not null objects</li>
            <li>Non 0 numbers</li>
            <li>Not null and not empty Strings</li>
            <li>Not null and not empty lists, maps, collections</li>
        </ol>
        <h2>What is False in Groovy</h2>Following things evaluates to false in groovy<br/>
        <ol>
            <li>boolean false</li>
            <li>Numeric 0 number</li>
            <li>Null objects</li>
            <li>Null Strings</li>
            <li>Null or empty lists, maps, collections</li>
        </ol>
        <pre class="hljs"><code><span class="hljs-keyword">def</span> groovyTruth = {val-&gt;<br/>  <span
                class="hljs-keyword">if</span>(val)<br/>     println <span
                class="hljs-string">"$val is true"</span><br/>  <span class="hljs-keyword">else</span> <br/>    println <span
                class="hljs-string">"$val is false"</span><br/>}<br/><br/><span class="hljs-keyword">boolean</span> b1 = <span
                class="hljs-literal">true</span><br/><span class="hljs-keyword">boolean</span> b2 = <span
                class="hljs-literal">false</span><br/><br/>groovyTruth(b1)  <span
                class="hljs-comment">// true  </span><br/>groovyTruth(b2) <span
                class="hljs-comment">// false</span><br/><br/><span class="hljs-keyword">int</span> n1 = <span
                class="hljs-number">0</span>  <br/><span class="hljs-keyword">int</span> n2 = <span class="hljs-number">12</span><br/><span
                class="hljs-keyword">int</span> n3 = <span
                class="hljs-number">-321</span><br/><br/>groovyTruth(n1) <span class="hljs-comment">// false</span><br/>groovyTruth(n2) <span
                class="hljs-comment">// true</span><br/>groovyTruth(n3) <span
                class="hljs-comment">// true</span><br/><br/>String s1 = <span class="hljs-literal">null</span><br/>String s2 = <span
                class="hljs-string">""</span><br/>String s3 = <span class="hljs-string">"some string"</span><br/><br/>groovyTruth(s1)  <span
                class="hljs-comment">// false</span><br/>groovyTruth(s2)  <span
                class="hljs-comment">// false</span><br/>groovyTruth(s3)  <span class="hljs-comment">// true</span><br/><br/>Object o1 = <span
                class="hljs-literal">null</span><br/>Object o2 = <span
                class="hljs-keyword">new</span> Object()<br/><br/>groovyTruth(o1)  <span
                class="hljs-comment">// false</span><br/>groovyTruth(o2)  <span class="hljs-comment">// true</span><br/><br/>List l1 = <span
                class="hljs-literal">null</span><br/>List l2 = []<br/>List l3 = [<span
                class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br/><br/>groovyTruth(l1) <span
                class="hljs-comment">// false</span><br/>groovyTruth(l2) <span class="hljs-comment">// false</span><br/>groovyTruth(l3) <span
                class="hljs-comment">// true</span><br/><br/><br/>Map m1 = <span class="hljs-literal">null</span> <br/>Map m2 = [:]<br/>Map m3 = [<span
                class="hljs-string">'key'</span>: <span
                class="hljs-string">'val'</span>]<br/><br/>groovyTruth(m1)  <span
                class="hljs-comment">// false</span><br/>groovyTruth(m2)  <span
                class="hljs-comment">// false</span><br/>groovyTruth(m3)  <span class="hljs-comment">// true</span><br/><br/></code></pre>
        When we run this code, it will give the following output<br/>
        <div class="output"><b>Output</b><br/><br/>true is true<br/>false is false<br/>0 is false<br/>12 is true<br/>-321
            is true<br/>null is false<br/>is false<br/>some string is true<br/>null is false<br/>java.lang.Object@37074b2c
            is true<br/>null is false<br/>[] is false<br/>[1, 2, 3] is true<br/>null is false<br/>[:] is false<br/>[key:val]
            is true
        </div>
        <br/>
        <h2>Custom Groovy Truth</h2>You can also define your custom Groovy Truth, that is how object will evaluate to
        true and false . For this you need to override the method <code>Boolean asBoolean()</code> to return a boolean
        value which will be used to evaluate truth of the object.<br/>Let's take a class Student and it should give true
        if the status of student is <strong>enrolled</strong><br/>
        <pre class="hljs"><code>​<span class="hljs-class"><span class="hljs-keyword">class</span> <span
                class="hljs-title">Student</span>{</span>  <br/>  String name <br/>  String status<br/><br/> <span
                class="hljs-keyword">boolean</span> asBoolean(){<br/>    <span class="hljs-keyword">return</span> status == <span
                class="hljs-string">'enrolled'</span><br/> }<br/> String toString(){<br/>   <span class="hljs-keyword">return</span> name<br/> }<br/>}<br/><br/>Student s1 = <span
                class="hljs-keyword">new</span> Student(<span class="hljs-string">name :</span> <span
                class="hljs-string">'s1'</span>, <span class="hljs-string">status:</span> <span class="hljs-string">'enrolled'</span>)<br/>Student s2 = <span
                class="hljs-keyword">new</span> Student(<span class="hljs-string">name :</span> <span
                class="hljs-string">'s2'</span>, <span class="hljs-string">status:</span> <span class="hljs-string">'applied'</span>)<br/><br/><span
                class="hljs-keyword">def</span> groovyTruth = {val-&gt;<br/>  <span
                class="hljs-keyword">if</span>(val)<br/>     println <span
                class="hljs-string">"$val is true"</span><br/>  <span class="hljs-keyword">else</span> <br/>    println <span
                class="hljs-string">"$val is false"</span><br/>}<br/><br/>groovyTruth(s1)<br/>groovyTruth(s2)<br/>​<br/></code></pre>
        So the above code will give the following output<br/>
        <div class="output"><b>Output</b><br/><br/>s1 is true<br/>s2 is false</div>
        <br/>
        <h2>How to Customise groovy Truth for the existing Classes in Groovy</h2>Let's say we want to make the string
        "null" to evaluate to false. Then we can override the <code>asBoolean()</code> method of the <code>String</code>
        class.<br/>So, the following will evaluate to false in this scenario.<br/>
        <ol>
            <li>null - null object</li>
            <li>"" - blank string</li>
            <li>"null" - string will null as a string</li>
        </ol>
        <pre class="hljs"><code>String.metaClass.asBoolean = {<br/>  <span
                class="hljs-keyword">if</span>(delegate == <span class="hljs-literal">null</span> || delegate == <span
                class="hljs-string">""</span> || delegate == <span class="hljs-string">"null"</span>)<br/>     <span
                class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br/>  <span
                class="hljs-keyword">return</span> <span
                class="hljs-literal">true</span><br/>}<br/><br/>String s1 = <span class="hljs-literal">null</span><br/>String s2 = <span
                class="hljs-string">""</span><br/>String s3 = <span
                class="hljs-string">"null"</span><br/>String s4 = <span
                class="hljs-string">"some string"</span><br/><br/><span class="hljs-keyword">def</span> groovyTruth = {val-&gt;<br/>  <span
                class="hljs-keyword">if</span>(val)<br/>     println <span
                class="hljs-string">"$val is true"</span><br/>  <span class="hljs-keyword">else</span> <br/>    println <span
                class="hljs-string">"$val is false"</span><br/>}<br/><br/>groovyTruth(s1)<br/>groovyTruth(s2)<br/>groovyTruth(s3)<br/>groovyTruth(s4)​<br/></code></pre>
        This will give the following output<br/>
        <div class="output"><b>Output</b><br/><br/>null is false<br/>is false<br/>null is false<br/>some string is true
        </div>
        <br/></div>
</div>